<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CasADi: mx_function.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="http://casadi.org"><img src="/api/html/casadi.png" alt="CasADi" height="55px"/></a>&#160;<span>internal API<sup style="font-size:30%">(<a href="../../../html/index.html">switch to public</a>)</sup></span> - <a href="https://github.com/casadi/casadi/tree/40d1934d2cb4eb46565debb8477cb04f4a3e2729" id="40d1934d2cb4eb46565debb8477cb04f4a3e2729" >revision 3.0.0</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Function&#160;overview</span></a></li>
      <li><a href="../../da/da4/classcasadi_1_1Function.html"><span>Function</span></a></li>
      <li><a href="../../usergroup0.html"><span>Expression&#160;graphs</span></a></li>
      <li><a href="../../usergroup1.html"><span>Solvers</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_2c2314939267d1c2b8853bb59ef27393.html">casadi</a></li><li class="navelem"><a class="el" href="../../dir_d3f702df5899af83d48ebd5a6235f692.html">core</a></li><li class="navelem"><a class="el" href="../../dir_c8cff01c0844b70ea7cbe6a0191f40f7.html">function</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mx_function.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *    This file is part of CasADi.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *    CasADi -- A symbolic framework for dynamic optimization.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *    Copyright (C) 2010-2014 Joel Andersson, Joris Gillis, Moritz Diehl,</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                            K.U. Leuven. All rights reserved.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *    Copyright (C) 2011-2014 Greg Horn</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *    CasADi is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *    modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *    License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *    version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *    CasADi is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *    Lesser General Public License for more details.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *    You should have received a copy of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *    License along with CasADi; if not, write to the Free Software</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;mx_function.hpp&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;../std_vector_tools.hpp&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;../casadi_types.hpp&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;../global_options.hpp&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;../casadi_interrupt.hpp&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;stack&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">using namespace </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d7/d23/namespacecasadi.html">casadi</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a34ec6c73bbfd7651d4ca8b34acb16a7a">   38</a></span>&#160;  MXFunction::MXFunction(<span class="keyword">const</span> std::string&amp; name,</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                         <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; inputv,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                         <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; outputv) :</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html">XFunction</a>&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html">MXFunction</a>, <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>, <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>&gt;(name, inputv, outputv) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a000e667e298037176efbedd677fdbc12">   45</a></span>&#160;  <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a000e667e298037176efbedd677fdbc12">MXFunction::~MXFunction</a>() {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="../../db/d35/structcasadi_1_1Options.html">Options</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a23c36b7cfe7d1cd9ca9d1f681370ff53">MXFunction::options_</a></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  = {{&amp;<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a9252cd85e4aaad15d021833146b59401">FunctionInternal::options_</a>},</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;     {{<span class="stringliteral">&quot;default_in&quot;</span>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3">OT_DOUBLEVECTOR</a>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="stringliteral">&quot;Default input values&quot;</span>}},</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      {<span class="stringliteral">&quot;live_variables&quot;</span>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;       {<a class="code" href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">OT_BOOL</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="stringliteral">&quot;Reuse variables in the work vector&quot;</span>}}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;     }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7eb26a7b2f3703768c078462961b4d84">   59</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7eb26a7b2f3703768c078462961b4d84">MXFunction::init</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#ac0b357d13f0080474277728f87d771c2">Dict</a>&amp; opts) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::init begin&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Call the init function of the base class</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac60489b2183943b68a652f4f524f848a">XFunction&lt;MXFunction, MX, MXNode&gt;::init</a>(opts);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Default (temporary) options</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">bool</span> live_variables = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// Read options</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; op : opts) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;default_in&quot;</span>) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a> = op.second;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op.first==<span class="stringliteral">&quot;live_variables&quot;</span>) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        live_variables = op.second;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// Check/set default inputs</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.empty()) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>(), 0);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      casadi_assert_message(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">default_in_</a>.size()==<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>(),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                            <span class="stringliteral">&quot;Option &#39;default_in&#39; has incorrect length&quot;</span>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Stack used to sort the computational graph</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    stack&lt;MXNode*&gt; s;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// All nodes</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    vector&lt;MXNode*&gt; nodes;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// Add the list of nodes</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordtype">int</span> ind=0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">for</span> (vector&lt;MX&gt;::iterator it = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.begin(); it != <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.end(); ++it, ++ind) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// Add outputs to the list</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      s.push(static_cast&lt;MXNode*&gt;(it-&gt;get()));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#af4e73ad0f163fd02355960bd7ceb19ad">sort_depth_first</a>(s, nodes);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="comment">// A null pointer means an output instruction</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      nodes.push_back(static_cast&lt;MXNode*&gt;(0));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Set the temporary variables to be the corresponding place in the sorted graph</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nodes.size(); ++i) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordflow">if</span> (nodes[i]) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        nodes[i]-&gt;temp = i;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// Place in the algorithm for each node</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    vector&lt;int&gt; place_in_alg;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    place_in_alg.reserve(nodes.size());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Input instructions</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    vector&lt;pair&lt;int, MXNode*&gt; &gt; symb_loc;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Current output and nonzero, start with the first one</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">int</span> curr_oind=0;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Count the number of times each node is used</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    vector&lt;int&gt; refcount(nodes.size(), 0);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Get the sequence of instructions for the virtual machine</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.resize(0);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.reserve(nodes.size());</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">for</span> (vector&lt;MXNode*&gt;::iterator it=nodes.begin(); it!=nodes.end(); ++it) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="comment">// Current node</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>* n = *it;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// Get the operation</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordtype">int</span> op = n==0 ? <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a> : n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ac2346d1f289b3bb83ba60520dff963af">op</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <span class="comment">// Store location if parameter (or input)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">if</span> (op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        symb_loc.push_back(make_pair(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.size(), n));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <span class="comment">// If a new element in the algorithm needs to be added</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">if</span> (op&gt;=0) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a> ae;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">op</a> = op;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>.<a class="code" href="../../d5/d4a/classcasadi_1_1SharedObject.html#aacb572fcc25c8ded67930b5b221fdf30">assignNode</a>(n);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// Add input and output argument</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.resize(1);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[0] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.at(curr_oind)-&gt;temp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.resize(1);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>[0] = curr_oind++;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.resize(n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ae289fa0b010714b78170f1722d29f21a">ndep</a>());</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ae289fa0b010714b78170f1722d29f21a">ndep</a>(); ++i) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[i] = n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ac2bf35f3aaa462c8c3e676d5f325c65c">dep</a>(i)-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">temp</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;          ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.resize(n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a8f03134bfe08d31178e20c5255781ece">nout</a>());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          <span class="keywordflow">if</span> (n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a8a2a75080032d3d25f68e5f9f6709065">isMultipleOutput</a>()) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.begin(), ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.end(), -1);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>[0] = n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">temp</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">// Increase the reference count of the dependencies</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.size(); ++c) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <span class="keywordflow">if</span> (ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[c]&gt;=0) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            refcount[ae.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[c]]++;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">// Save to algorithm</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        place_in_alg.push_back(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.size());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.push_back(ae);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      } <span class="keywordflow">else</span> { <span class="comment">// Function output node</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="comment">// Get the output index</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordtype">int</span> oind = n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a224f6e703688196a7ec7d02373dde89f">getFunctionOutput</a>();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">// Get the index of the parent node</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordtype">int</span> pind = place_in_alg[n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#ac2bf35f3aaa462c8c3e676d5f325c65c">dep</a>(0)-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">temp</a>];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// Save location in the algorithm element corresponding to the parent node</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordtype">int</span>&amp; otmp = <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[pind].res.at(oind);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (otmp&lt;0) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          otmp = n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">temp</a>; <span class="comment">// First time this function output is encountered, save to algorithm</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          n-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">temp</a> = otmp; <span class="comment">// Function output is a duplicate, use the node encountered first</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="comment">// Not in the algorithm</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        place_in_alg.push_back(-1);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Place in the work vector for each of the nodes in the tree (overwrites the reference counter)</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    vector&lt;int&gt;&amp; place = place_in_alg; <span class="comment">// Reuse memory as it is no longer needed</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    place.resize(nodes.size());</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// Stack with unused elements in the work vector, sorted by sparsity pattern</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    SPARSITY_MAP&lt;int, stack&lt;int&gt; &gt; unused_all;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Work vector size</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">int</span> worksize = 0;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Find a place in the work vector for the operation</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="comment">// There are two tasks, allocate memory of the result and free the</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">// memory off the arguments, order depends on whether inplace is possible</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordtype">int</span> first_to_free = 0;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordtype">int</span> last_to_free = it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a> ? 1 : it-&gt;data-&gt;numInplace();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> task=0; task&lt;2; ++task) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// Dereference or free the memory of the arguments</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=last_to_free-1; c&gt;=first_to_free; --c) { <span class="comment">// reverse order so that the</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                                          <span class="comment">// first argument will end up</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                                          <span class="comment">// at the top of the stack</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          <span class="comment">// Index of the argument</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          <span class="keywordtype">int</span>&amp; ch_ind = it-&gt;arg[c];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <span class="keywordflow">if</span> (ch_ind&gt;=0) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="comment">// Decrease reference count and add to the stack of</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="comment">// unused variables if the count hits zero</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordtype">int</span> remaining = --refcount[ch_ind];</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="comment">// Free variable for reuse</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">if</span> (live_variables &amp;&amp; remaining==0) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;              <span class="comment">// Get a pointer to the sparsity pattern of the argument that can be freed</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;              <span class="keywordtype">int</span> nnz = nodes[ch_ind]-&gt;sparsity().nnz();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;              <span class="comment">// Add to the stack of unused work vector elements for the current sparsity</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;              unused_all[nnz].push(place[ch_ind]);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="comment">// Point to the place in the work vector instead of to the place in the list of nodes</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            ch_ind = place[ch_ind];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Nothing more to allocate</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a> || task==1) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// Free the rest in the next iteration</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        first_to_free = last_to_free;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        last_to_free = it-&gt;arg.size();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="comment">// Allocate/reuse memory for the results of the operation</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;it-&gt;res.size(); ++c) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          <span class="keywordflow">if</span> (it-&gt;res[c]&gt;=0) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">// Are reuse of variables (live variables) enabled?</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (live_variables) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;              <span class="comment">// Get a pointer to the sparsity pattern node</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;              <span class="keywordtype">int</span> nnz = it-&gt;data-&gt;sparsity(c).nnz();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;              <span class="comment">// Get a reference to the stack for the current sparsity</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;              stack&lt;int&gt;&amp; unused = unused_all[nnz];</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;              <span class="comment">// Try to reuse a variable from the stack if possible (last in, first out)</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;              <span class="keywordflow">if</span> (!unused.empty()) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                it-&gt;res[c] = place[it-&gt;res[c]] = unused.top();</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                unused.pop();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">continue</span>; <span class="comment">// Success, no new element needed in the work vector</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;              }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="comment">// Allocate a new element in the work vector</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            it-&gt;res[c] = place[it-&gt;res[c]] = worksize++;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a36f05161824665768b26bdb18c14c633">verbose</a>()) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <span class="keywordflow">if</span> (live_variables) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#aa67607f24e1ba643c495940f006cc4ab">userOut</a>() &lt;&lt; <span class="stringliteral">&quot;Using live variables: work array is &quot;</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;             &lt;&lt;  worksize &lt;&lt; <span class="stringliteral">&quot; instead of &quot;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;             &lt;&lt; nodes.size() &lt;&lt; endl;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#aa67607f24e1ba643c495940f006cc4ab">userOut</a>() &lt;&lt; <span class="stringliteral">&quot;Live variables disabled.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// Allocate work vectors (numeric)</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.resize(worksize+1);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.begin(), <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.end(), -1);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">size_t</span> wind=0, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a>=0;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op!=<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;it-&gt;res.size(); ++c) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          <span class="keywordflow">if</span> (it-&gt;res[c]&gt;=0) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4e50c40106105c8d58aa16f6e9aa564c">alloc_arg</a>(it-&gt;data-&gt;sz_arg());</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2c2f3f5e118cc1283f6f1537c9932bad">alloc_res</a>(it-&gt;data-&gt;sz_res());</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a06082362fcb23031a134b4d4e6471c11">alloc_iw</a>(it-&gt;data-&gt;sz_iw());</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a> = max(sz_w, it-&gt;data-&gt;sz_w());</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res[c]] &lt; 0) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;              <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res[c]] = wind;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;              wind += it-&gt;data-&gt;sparsity(c).nnz();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.back()=wind;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size(); ++i) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i]&lt;0) <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i] = i==0 ? 0 : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i-1];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i] += <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a> += wind;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acd701154519bf9f8d787a936ef95246c">alloc_w</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// Reset the temporary variables</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nodes.size(); ++i) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <span class="keywordflow">if</span> (nodes[i]) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        nodes[i]-&gt;temp = 0;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">// Now mark each input&#39;s place in the algorithm</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=symb_loc.begin(); it!=symb_loc.end(); ++it) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      it-&gt;second-&gt;temp = it-&gt;first+1;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// Add input instructions, loop over inputs</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ind=0; ind&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size(); ++ind) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// Loop over symbolic primitives of each input</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      vector&lt;MX&gt; prim = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[ind].primitives();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordtype">int</span> nz_offset=0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p=0; p&lt;prim.size(); ++p) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordtype">int</span> i = prim[p].getTemp()-1;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span> (i&gt;=0) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          <span class="comment">// Mark as input</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].op = <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          <span class="comment">// Location of the input</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].arg.resize(3);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].arg[0] = ind;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].arg[1] = p;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>[i].arg[2] = nz_offset;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <span class="comment">// Mark input as read</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          prim[p].setTemp(0);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        nz_offset += prim[p]-&gt;nnz();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// Locate free variables</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.clear();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it=symb_loc.begin(); it!=symb_loc.end(); ++it) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordtype">int</span> i = it-&gt;second-&gt;temp-1;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> (i&gt;=0) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment">// Save to list of free parameters</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.push_back(<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a0ba0ef46e83bedc48101b8010d6cd97a">MX::create</a>(it-&gt;second));</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment">// Remove marker</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        it-&gt;second-&gt;temp=0;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// Does any embedded function have reference counting for codegen?</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordflow">if</span> (!a.data.is_null() &amp;&amp; a.data-&gt;has_refcount()) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a00027e6e795b594a411b944299b40581">has_refcount_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::init end&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6011996b37bd63d0ea1b032d9c1b4cef">  372</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6011996b37bd63d0ea1b032d9c1b4cef">MXFunction::eval</a>(<span class="keywordtype">void</span>* mem, <span class="keyword">const</span> <span class="keywordtype">double</span>** arg, <span class="keywordtype">double</span>** res, <span class="keywordtype">int</span>* iw, <span class="keywordtype">double</span>* w)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    casadi_msg(<span class="stringliteral">&quot;MXFunction::eval():begin &quot;</span>  &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a47fdf0f1c66ad9b45a24347cea290543">name_</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">// Work vector and temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span>** arg1 = arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">double</span>** res1 = res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// Make sure that there are no free variables</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.empty()) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      std::stringstream ss;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ae2ab333a4f258b34f5047b97bc366adf">repr</a>(ss);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      casadi_error(<span class="stringliteral">&quot;Cannot evaluate \&quot;&quot;</span> &lt;&lt; ss.str() &lt;&lt; <span class="stringliteral">&quot;\&quot; since variables &quot;</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                   &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a> &lt;&lt; <span class="stringliteral">&quot; are free.&quot;</span>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// Evaluate all of the nodes of the algorithm:</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// should only evaluate nodes that have not yet been calculated!</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; e : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">// Pass an input</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordtype">double</span> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[e.res.front()];</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordtype">int</span> nnz=e.data.nnz();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordtype">int</span> i=e.arg.at(0);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordtype">int</span> nz_offset=e.arg.at(2);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">if</span> (arg[i]==0) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(w1, w1+nnz, 0);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(arg[i]+nz_offset, arg[i]+nz_offset+nnz, w1);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e.op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">// Get an output</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">double</span> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[e.arg.front()];</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordtype">int</span> i=e.res.front();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (res[i]!=0) <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(w1, w1+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">nnz_out</a>(i), res[i]);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;e.arg.size(); ++i)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          arg1[i] = e.arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[e.arg[i]] : 0;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        for (<span class="keywordtype">int</span> i=0; i&lt;e.res.size(); ++i)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          res1[i] = e.res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[e.res[i]] : 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="comment">// Evaluate</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        e.data-&gt;eval(arg1, res1, iw, w, 0);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    casadi_msg(<span class="stringliteral">&quot;MXFunction::eval():end &quot;</span>  &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a47fdf0f1c66ad9b45a24347cea290543">name_</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aab2ec8753802e4c0e77619c0c6c3431c">  420</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">MXFunction::print</a>(ostream &amp;stream, <span class="keyword">const</span> <a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">AlgEl</a>&amp; el)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      stream &lt;&lt; <span class="stringliteral">&quot;output[&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.front() &lt;&lt; <span class="stringliteral">&quot;] = @&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(0);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a">OP_SETNONZEROS</a> || el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33">OP_ADDNONZEROS</a>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.front()!=el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(0)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.front() &lt;&lt; <span class="stringliteral">&quot; = @&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(0) &lt;&lt; <span class="stringliteral">&quot;; &quot;</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      vector&lt;string&gt; arg(2);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      arg[0] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">CodeGenerator::to_string</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.front());</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      arg[1] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">CodeGenerator::to_string</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(1));</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      stream &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a828a7c9d7f31f06add14c529301fea84">print</a>(arg);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.size()==1) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.front() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>.size(); ++i) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordflow">if</span> (i!=0) stream &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>[i]&gt;=0) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            stream &lt;&lt; <span class="stringliteral">&quot;@&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">res</a>[i];</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            stream &lt;&lt; <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;} = &quot;</span>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">op</a>==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;input[&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(0) &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.at(1) &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        vector&lt;string&gt; arg(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.size());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>.size(); ++i) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          <span class="keywordflow">if</span> (el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[i]&gt;=0) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            arg[i] = <span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">CodeGenerator::to_string</a>(el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">arg</a>[i]);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            arg[i] = <span class="stringliteral">&quot;NULL&quot;</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        stream &lt;&lt; el.<a class="code" href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">data</a>-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a828a7c9d7f31f06add14c529301fea84">print</a>(arg);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">  462</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">MXFunction::print</a>(ostream &amp;stream)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8ef992a939d171eb3563ece70112909">FunctionInternal::print</a>(stream);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::const_iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <a class="code" href="../../d7/d38/classcasadi_1_1InterruptHandler.html#a49091eb550d4bf8da4f31e49835608df">InterruptHandler::check</a>();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">print</a>(stream, *it);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      stream &lt;&lt; endl;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5b90ae2abe2a6bc01a4dd144c49712e4">  471</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5b90ae2abe2a6bc01a4dd144c49712e4">MXFunction::spFwd</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** res, <span class="keywordtype">int</span>* iw, <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w, <span class="keywordtype">int</span> mem) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// Temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** arg1=arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** res1=res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">// Propagate sparsity forward</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); it++) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="comment">// Pass input seeds</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">int</span> nnz=it-&gt;data.nnz();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;arg.at(0);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordtype">int</span> nz_offset=it-&gt;arg.at(2);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* argi = arg[i];</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res.front()];</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">if</span> (argi!=0) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(argi+nz_offset, argi+nz_offset+nnz, w1);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;          fill_n(w1, nnz, 0);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// Get the output sensitivities</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;res.front();</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <span class="keywordtype">int</span> nnz=<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">nnz_out</a>(i);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* resi = res[i];</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg.front()];</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">if</span> (resi!=0) <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(w1, w1+nnz, resi);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;          arg1[i] = it-&gt;arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg[i]] : 0;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        for (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i)</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;          res1[i] = it-&gt;res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res[i]] : 0;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">// Propagate sparsity forwards</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        it-&gt;data-&gt;spFwd(arg1, res1, iw, w, 0);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a793a8735e7c6e7ddc10c785d41736618">  510</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a793a8735e7c6e7ddc10c785d41736618">MXFunction::spAdj</a>(<a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** res, <span class="keywordtype">int</span>* iw, <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w, <span class="keywordtype">int</span> mem) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// Temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** arg1=arg+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>** res1=res+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    fill_n(w, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">sz_w</a>(), 0);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// Propagate sparsity backwards</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::reverse_iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rbegin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rend(); it++) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">// Get the input sensitivities and clear it from the work vector</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordtype">int</span> nnz=it-&gt;data.nnz();</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;arg.at(0);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordtype">int</span> nz_offset=it-&gt;arg.at(2);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* argi = arg[i];</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res.front()];</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span> (argi!=0) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nnz; ++k) argi[nz_offset+k] |= w1[k];</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        fill_n(w1, nnz, 0);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// Pass output seeds</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;res.front();</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordtype">int</span> nnz=<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">nnz_out</a>(i);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* resi = res[i];</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <a class="code" href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">bvec_t</a>* w1 = w + <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg.front()];</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span> (resi!=0) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nnz; ++k) w1[k] |= resi[k];</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          fill_n(resi, nnz, 0);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;          arg1[i] = it-&gt;arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg[i]] : 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        for (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;          res1[i] = it-&gt;res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res[i]] : 0;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// Propagate sparsity backwards</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        it-&gt;data-&gt;spAdj(arg1, res1, iw, w, 0);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7a2a6a435f28ef089a51b633dc7dc1e9">  551</a></span>&#160;  <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7a2a6a435f28ef089a51b633dc7dc1e9">MXFunction::getNumericJacobian</a>(<span class="keyword">const</span> std::string&amp; name, <span class="keywordtype">int</span> iind, <span class="keywordtype">int</span> oind,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                                  <span class="keywordtype">bool</span> compact, <span class="keywordtype">bool</span> symmetric, <span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#ac0b357d13f0080474277728f87d771c2">Dict</a>&amp; opts) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// Create expressions for the Jacobian</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    vector&lt;MX&gt; ret_out;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    ret_out.reserve(1+<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.size());</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    ret_out.push_back(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#adb4c2063102f4c513bc780ead253e07a">jac</a>(iind, oind, compact, symmetric, <span class="keyword">false</span>, <span class="keyword">true</span>));</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    ret_out.insert(ret_out.end(), <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.begin(), <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.end());</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>(name, <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>, ret_out, opts);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1ed40faab3cda50e22d3c68291e30a38">  562</a></span>&#160;  std::vector&lt;MX&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1ed40faab3cda50e22d3c68291e30a38">MXFunction::symbolicOutput</a>(<span class="keyword">const</span> std::vector&lt;MX&gt;&amp; arg) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// Check if input is given</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> checking_depth = 2;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">bool</span> input_given = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;arg.size() &amp;&amp; input_given; ++i) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d23/namespacecasadi.html#aa78122591d27cd623d7665efb7f31a0a">is_equal</a>(arg[i], <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i], checking_depth)) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        input_given = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// Return output if possible, else fall back to base class</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (input_given) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaf444efb55b09724d7ab70b8a09ec9f2">FunctionInternal::symbolicOutput</a>(arg);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a061788559004a11536ad2ba2a655d776">  580</a></span>&#160;  std::vector&lt;MX&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a061788559004a11536ad2ba2a655d776">MXFunction::create_call</a>(<span class="keyword">const</span> std::vector&lt;MX&gt;&amp; arg) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a2f0167890c74c698ac9dddf653a2dc63">isInput</a>(arg)) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ad142bb05b9992ca3c7af811702898c19">FunctionInternal::create_call</a>(arg);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a112711ca92393bf8cd1136b89de773a8">  588</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a112711ca92393bf8cd1136b89de773a8">MXFunction::eval_mx</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">MXVector</a>&amp; arg, <a class="code" href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">MXVector</a>&amp; res,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                           <span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// The code below inlines the call, for creating a call, use the base class</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (!always_inline) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#afcd74ec12cbd70552e3b5c84fc490a6a">FunctionInternal::eval_mx</a>(arg, res, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::eval_mx begin&quot;</span>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    casadi_assert_message(arg.size()==<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>(), <span class="stringliteral">&quot;Wrong number of input arguments&quot;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Resize the number of outputs</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    res.resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.size());</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Copy output if known</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a2f0167890c74c698ac9dddf653a2dc63">isInput</a>(arg)) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.begin(), <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.end(), res.begin());</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">// Symbolic work, non-differentiated</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    vector&lt;MX&gt; swork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::eval_mx allocated work vector&quot;</span>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// Split up inputs analogous to symbolic primitives</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    vector&lt;vector&lt;MX&gt; &gt; arg_split(arg.size());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;arg.size(); ++i)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      arg_split[i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].split_primitives(arg[i]);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    vector&lt;MX&gt; arg1, res1;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">// Loop over computational nodes in forward order</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordtype">int</span> alg_counter = 0;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it, ++alg_counter) {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        swork[it-&gt;res.front()] = <a class="code" href="../../d7/d23/namespacecasadi.html#a217d5abb0932b6c65a8f966dbf101cdc">project</a>(arg_split.at(it-&gt;arg.at(0)).at(it-&gt;arg.at(1)),</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                         it-&gt;data.sparsity(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="comment">// Collect the results</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        res[it-&gt;res.front()] = swork[it-&gt;arg.front()];</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">// Fetch parameter</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        swork[it-&gt;res.front()] = it-&gt;data;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">// Arguments of the operation</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        arg1.resize(it-&gt;arg.size());</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;arg1.size(); ++i) {</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          <span class="keywordtype">int</span> el = it-&gt;arg[i]; <span class="comment">// index of the argument</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          arg1[i] = el&lt;0 ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size()) : swork[el];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        res1.resize(it-&gt;res.size());</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        it-&gt;data-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a5489e2aa6b9af533bffbdbd29a9b92bd">eval_mx</a>(arg1, res1);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="comment">// Get the result</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;res1.size(); ++i) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;          <span class="keywordtype">int</span> el = it-&gt;res[i]; <span class="comment">// index of the output</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;          <span class="keywordflow">if</span> (el&gt;=0) swork[el] = res1[i];</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::eval_mx end&quot;</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1fac6a18e8bcd1b84be8122220fc6c89">  652</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1fac6a18e8bcd1b84be8122220fc6c89">MXFunction::evalFwd</a>(<span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fseed,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                   std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fsens) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalFwd begin&quot;</span>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// Allocate results</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordtype">int</span> nfwd = fseed.size();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    fsens.resize(nfwd);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      fsens[d].resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>());</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">// Quick return if no directions</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (nfwd==0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// Check if there are any zero seeds</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">for</span> (vector&lt;vector&lt;MX&gt; &gt;::const_iterator i=fseed.begin(); i!=fseed.end(); ++i) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="comment">// If any direction can be skipped</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(*i)) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">// New argument without all-zero directions</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        std::vector&lt;std::vector&lt;MX&gt; &gt; fseed_purged, fsens_purged;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        fseed_purged.reserve(nfwd);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        vector&lt;int&gt; index_purged;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(fseed[d])) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;fsens[d].size(); ++i) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;              fsens[d][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af90d9d333ab1ce25fe5376ab6fea498d">size_out</a>(i));</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            fseed_purged.push_back(fsens[d]);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            index_purged.push_back(d);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          }</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment">// Call recursively</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1fac6a18e8bcd1b84be8122220fc6c89">evalFwd</a>(fseed_purged, fsens_purged);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment">// Fetch result</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;fseed_purged.size(); ++d) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          fsens[index_purged[d]] = fsens_purged[d];</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">// Allocate forward sensitivities</span></div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      fsens[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.size());</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// Work vector, forward derivatives</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    std::vector&lt;std::vector&lt;MX&gt; &gt; dwork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(dwork.begin(), dwork.end(), std::vector&lt;MX&gt;(nfwd));</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalFwd allocated derivative work vector (forward mode)&quot;</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// Split up fseed analogous to symbolic primitives</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    vector&lt;vector&lt;vector&lt;MX&gt; &gt; &gt; fseed_split(nfwd);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      fseed_split[d].resize(fseed[d].size());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;fseed[d].size(); ++i) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        fseed_split[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].split_primitives(fseed[d][i]);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// Pointers to the arguments of the current operation</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    vector&lt;vector&lt;MX&gt; &gt; oseed, osens;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    oseed.reserve(nfwd);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    osens.reserve(nfwd);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    vector&lt;bool&gt; skip(nfwd, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Loop over computational nodes in forward order</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="comment">// Fetch forward seed</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          dwork[it-&gt;res.front()][d] = <a class="code" href="../../d7/d23/namespacecasadi.html#a217d5abb0932b6c65a8f966dbf101cdc">project</a>(fseed_split[d].at(it-&gt;arg.at(0)).at(it-&gt;arg.at(1)),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                                              it-&gt;data.sparsity(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">// Collect forward sensitivity</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          fsens[d][it-&gt;res.front()] = dwork[it-&gt;arg.front()][d];</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <span class="comment">// Fetch parameter</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          dwork[it-&gt;res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="comment">// Get seeds, ignoring all-zero directions</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        oseed.clear();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;          <span class="comment">// Collect seeds, skipping directions with only zeros</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          vector&lt;MX&gt; seed(it-&gt;arg.size());</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;          skip[d] = <span class="keyword">true</span>; <span class="comment">// All seeds are zero?</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordtype">int</span> el = it-&gt;arg[i];</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">if</span> (el&lt;0 || dwork[el][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;              seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size());</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;              seed[i] = dwork[el][d];</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">if</span> (skip[d] &amp;&amp; !seed[i].<a class="code" href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">is_zero</a>()) skip[d] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;          }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;          <span class="keywordflow">if</span> (!skip[d]) oseed.push_back(seed);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        osens.resize(oseed.size());</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">if</span> (!osens.empty()) {</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;          <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(osens.begin(), osens.end(), vector&lt;MX&gt;(it-&gt;res.size()));</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          it-&gt;data-&gt;evalFwd(oseed, osens);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment">// Store sensitivities</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordtype">int</span> d1=0;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nfwd; ++d) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="keywordtype">int</span> el = it-&gt;res[i];</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;              dwork[el][d] = skip[d] ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;sparsity(i).size()) : osens[d1][i];</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          <span class="keywordflow">if</span> (!skip[d]) d1++;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalFwd end&quot;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba6e09ba0cc87da1f6313dc8bdfad703">  781</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba6e09ba0cc87da1f6313dc8bdfad703">MXFunction::evalAdj</a>(<span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; aseed,</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                   std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; asens) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalAdj begin&quot;</span>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">// Allocate results</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">int</span> nadj = aseed.size();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    asens.resize(nadj);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;      asens[d].resize(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>());</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// Quick return if no directions</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">if</span> (nadj==0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Check if there are any zero seeds</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">for</span> (vector&lt;vector&lt;MX&gt; &gt;::const_iterator i=aseed.begin(); i!=aseed.end(); ++i) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="comment">// If any direction can be skipped</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(*i)) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">// New argument without all-zero directions</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        std::vector&lt;std::vector&lt;MX&gt; &gt; aseed_purged, asens_purged;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        aseed_purged.reserve(nadj);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        vector&lt;int&gt; index_purged;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">purgable</a>(aseed[d])) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;asens[d].size(); ++i) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              asens[d][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a1ccb80e547c773f0b50f5dd238391df8">size_in</a>(i));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            aseed_purged.push_back(asens[d]);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            index_purged.push_back(d);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;          }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">// Call recursively</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba6e09ba0cc87da1f6313dc8bdfad703">evalAdj</a>(aseed_purged, asens_purged);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="comment">// Fetch result</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;aseed_purged.size(); ++d) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          asens[index_purged[d]] = asens_purged[d];</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// Allocate splited adjoint sensitivities</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    vector&lt;vector&lt;vector&lt;MX&gt; &gt; &gt; asens_split(nadj);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      asens_split[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size());</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size(); ++i) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        asens_split[d][i].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].n_primitives());</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// Pointers to the arguments of the current operation</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    vector&lt;vector&lt;MX&gt; &gt; oseed, osens;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    oseed.reserve(nadj);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    osens.reserve(nadj);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    vector&lt;bool&gt; skip(nadj, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="comment">// Work vector, adjoint derivatives</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    std::vector&lt;std::vector&lt;MX&gt; &gt; dwork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size()-1);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <a class="code" href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">fill</a>(dwork.begin(), dwork.end(), std::vector&lt;MX&gt;(nadj));</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalAdj allocated derivative work vector (adjoint mode)&quot;</span>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">// Loop over computational nodes in reverse order</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::reverse_iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rbegin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.rend(); ++it) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op == <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="comment">// Get the adjoint sensitivities</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;          asens_split[d].at(it-&gt;arg.at(0)).at(it-&gt;arg.at(1)) = dwork[it-&gt;res.front()][d];</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          dwork[it-&gt;res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="comment">// Pass the adjoint seeds</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> a = <a class="code" href="../../d7/d23/namespacecasadi.html#a217d5abb0932b6c65a8f966dbf101cdc">project</a>(aseed[d][it-&gt;res.front()], <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aff5fde032442f1708b74357109d73287">sparsity_out</a>(it-&gt;res.front()), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;          <span class="keywordflow">if</span> (dwork[it-&gt;arg.front()][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;            dwork[it-&gt;arg.front()][d] = a;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            dwork[it-&gt;arg.front()][d] += a;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;          }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="comment">// Clear adjoint seeds</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;          dwork[it-&gt;res.front()][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="comment">// Collect and reset seeds</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        oseed.clear();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <span class="comment">// Can the direction be skipped completely?</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          skip[d] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;          <span class="comment">// Seeds for direction d</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          vector&lt;MX&gt; seed(it-&gt;res.size());</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <span class="comment">// Get and clear seed</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            <span class="keywordtype">int</span> el = it-&gt;res[i];</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;              seed[i] = dwork[el][d];</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;              dwork[el][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;              seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            }</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="comment">// If first time encountered, reset to zero of right dimension</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <span class="keywordflow">if</span> (seed[i].is_empty(<span class="keyword">true</span>)) seed[i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;sparsity(i).size());</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            <span class="comment">// If nonzero seeds, keep direction</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            <span class="keywordflow">if</span> (skip[d] &amp;&amp; !seed[i].<a class="code" href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">is_zero</a>()) skip[d] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          <span class="comment">// Add to list of derivatives</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;          <span class="keywordflow">if</span> (!skip[d]) oseed.push_back(seed);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="comment">// Get values of sensitivities before addition</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        osens.resize(oseed.size());</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordtype">int</span> d1=0;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;          <span class="keywordflow">if</span> (skip[d]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;          osens[d1].resize(it-&gt;arg.size());</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="comment">// Pass seed and reset to avoid counting twice</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordtype">int</span> el = it-&gt;arg[i];</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;              osens[d1][i] = dwork[el][d];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;              dwork[el][d] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;              osens[d1][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>();</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <span class="comment">// If first time encountered, reset to zero of right dimension</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">if</span> (osens[d1][i].is_empty(<span class="keyword">true</span>)) osens[d1][i] = <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size());</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;          }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          d1++;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="keywordflow">if</span> (!osens.empty()) {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          it-&gt;data-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#afaa0936652ba59d5e0bf0f570ffac9bd">evalAdj</a>(oseed, osens);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        }</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="comment">// Store sensitivities</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        d1=0;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;          <span class="keywordflow">if</span> (skip[d]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            <span class="keywordtype">int</span> el = it-&gt;arg[i];</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            <span class="keywordflow">if</span> (el&gt;=0) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;              <span class="keywordflow">if</span> (dwork[el][d].is_empty(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                dwork[el][d] = osens[d1][i];</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                dwork[el][d] += osens[d1][i];</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;              }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;          }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;          d1++;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// Get adjoint sensitivities</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;nadj; ++d) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      asens[d].resize(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size());</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size(); ++i) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        asens[d][i] = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].join_primitives(asens_split[d][i]);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">log</a>(<span class="stringliteral">&quot;MXFunction::evalAdj end&quot;</span>);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad55394e0ab82de77f066964b7e24eca1">  954</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad55394e0ab82de77f066964b7e24eca1">MXFunction::eval_sx</a>(<span class="keyword">const</span> <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>** arg, <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>** res, <span class="keywordtype">int</span>* iw, <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a>* w, <span class="keywordtype">int</span> mem) {</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// Work vector and temporaries to hold pointers to operation input and outputs</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    vector&lt;const SXElem*&gt; argp(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a88d0c61dd46279a7179a348f731874e6">sz_arg</a>());</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    vector&lt;SXElem*&gt; resp(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedc0fec4962cb5518a8bfb60ddb10046">sz_res</a>());</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">// Evaluate all of the nodes of the algorithm:</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">// should only evaluate nodes that have not yet been calculated!</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); it++) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="comment">// Pass an input</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res.front()];</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordtype">int</span> nnz=it-&gt;data.nnz();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;arg.at(0);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordtype">int</span> nz_offset=it-&gt;arg.at(2);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">if</span> (arg[i]==0) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;          std::fill(w1, w1+nnz, 0);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;          std::copy(arg[i]+nz_offset, arg[i]+nz_offset+nnz, w1);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="comment">// Get the outputs</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <a class="code" href="../../d0/d06/classcasadi_1_1SXElem.html">SXElem</a> *w1 = w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg.front()];</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordtype">int</span> i=it-&gt;res.front();</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        <span class="keywordflow">if</span> (res[i]!=0)</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          std::copy(w1, w1+<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">nnz_out</a>(i), res[i]);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <span class="keywordflow">continue</span>; <span class="comment">// FIXME</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="comment">// Point pointers to the data corresponding to the element</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i)</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;          argp[i] = it-&gt;arg[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;arg[i]] : 0;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        for (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          resp[i] = it-&gt;res[i]&gt;=0 ? w+<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[it-&gt;res[i]] : 0;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="comment">// Evaluate</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        it-&gt;data-&gt;eval_sx(<a class="code" href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">get_ptr</a>(argp), <a class="code" href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">get_ptr</a>(resp), iw, w, 0);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  }</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adce617d5eb2fd7edc9f82009426a1b2e">  994</a></span>&#160;  <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adce617d5eb2fd7edc9f82009426a1b2e">MXFunction::expand</a>(<span class="keyword">const</span> std::vector&lt;SX&gt;&amp; inputvsx) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    <span class="comment">// Create inputs with the same name and sparsity as the matrix valued symbolic inputs</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    vector&lt;SX&gt; arg(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size());</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (inputvsx.empty()) { <span class="comment">// No symbolic input provided</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;arg.size(); ++i) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="comment">// Start with matrix with the correct sparsity</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        arg[i] = <a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a8474a2a70e32d853e3b7b71f024c3c27">SX::zeros</a>(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].sparsity());</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">// Divide input into primitives and create corresponding SX</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <span class="keyword">auto</span> ait = arg[i]-&gt;begin();</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        vector&lt;MX&gt; prim = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].primitives();</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> pit=prim.begin(); pit!=prim.end(); ++pit) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;          <a class="code" href="../../dd/df2/singletoncasadi_1_1Matrix.html">SX</a> t = <a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#aef7e7817a3072ed661a3274e86fac531">SX::sym</a>(pit-&gt;name(), pit-&gt;sparsity());</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;          <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(t-&gt;begin(), t-&gt;end(), ait);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;          ait += t.<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a2e3665c029a2c0873b82e57a361533e8">nnz</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        casadi_assert(ait==arg[i]-&gt;end());</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// Use provided symbolic input</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">// Make sure number of inputs matches</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      casadi_assert(inputvsx.size()==<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.size());</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="comment">// Make sure that sparsity matches</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;inputvsx.size(); ++i) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        casadi_assert(inputvsx[i].sparsity() == <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>[i].sparsity());</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      }</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="comment">// Copy to argument vector</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <a class="code" href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">copy</a>(inputvsx.begin(), inputvsx.end(), arg.begin());</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="comment">// Create output vector with correct sparsity</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    vector&lt;SX&gt; res(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>.size());</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;res.size(); ++i) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      res[i] = <a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a8474a2a70e32d853e3b7b71f024c3c27">SX::zeros</a>(<a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">outputv_</a>[i].sparsity());</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// Evaluate symbolically</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ade4df092def41ffae7020f2427219a4f">call</a>(arg, res, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// Create function</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>(<span class="stringliteral">&quot;expand_&quot;</span> + <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a47fdf0f1c66ad9b45a24347cea290543">name_</a>, arg, res,</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                    <a class="code" href="../../d7/d23/namespacecasadi.html#ac0b357d13f0080474277728f87d771c2">Dict</a>{{<span class="stringliteral">&quot;input_scheme&quot;</span>, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac032471eb807482fc0f4097914af9a20">ischeme_</a>}, {<span class="stringliteral">&quot;output_scheme&quot;</span>, <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac48d68b1fa2fe9e34d786957026aad13">oscheme_</a>}});</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a855c0cfe59f2f3e42c758d97cf743f2b"> 1040</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a855c0cfe59f2f3e42c758d97cf743f2b">MXFunction::generateDeclarations</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// Make sure that there are no free variables</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a>.empty()) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      casadi_error(<span class="stringliteral">&quot;Code generation is not possible since variables &quot;</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                   &lt;&lt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">free_vars_</a> &lt;&lt; <span class="stringliteral">&quot; are free.&quot;</span>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">// Generate code for the embedded functions</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="keywordflow">if</span> (!a.data.is_null()) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        a.data-&gt;addDependency(g);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    }</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6c484e193d9a53318507985e5f589f37"> 1056</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6c484e193d9a53318507985e5f589f37">MXFunction::codegen_incref</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    set&lt;void*&gt; added;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (!a.data.is_null()) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        a.data-&gt;codegen_incref(g, added);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6ec1a38aee0fde2abc25b3903f2d3d10"> 1065</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6ec1a38aee0fde2abc25b3903f2d3d10">MXFunction::codegen_decref</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    set&lt;void*&gt; added;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; a : <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">if</span> (!a.data.is_null()) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        a.data-&gt;codegen_decref(g, added);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a81606be8a2b9a1c3446718fe02932e14"> 1074</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a81606be8a2b9a1c3446718fe02932e14">MXFunction::generateBody</a>(<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html">CodeGenerator</a>&amp; g)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="comment">// Shorthand</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    ostream &amp;s = g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ad059828b805503016d81b97e53336f06">body</a>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">// Temporary variables and vectors</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    s &lt;&lt; <span class="stringliteral">&quot;  int i, j, k, *ii, *jj, *kk;&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  const int *cii;&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  real_t r, s, t, *rr, *ss, *tt;&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  const real_t *cr, *cs, *ct;&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  const real_t** arg1=arg+&quot;</span> &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">n_in</a>() &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      &lt;&lt; <span class="stringliteral">&quot;  real_t** res1=res+&quot;</span> &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>() &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// Declare scalar work vector elements as local variables</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size()-1; ++i) {</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordtype">int</span> n=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i+1]-<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>[i];</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="keywordflow">if</span> (n==0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">if</span> (first) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;  real_t &quot;</span>;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        first = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;      }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="comment">/* Could use local variables for small work vector elements here, e.g.:</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">         ...</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">         } else if (n&lt;10) {</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment">         s &lt;&lt; &quot;w&quot; &lt;&lt; i &lt;&lt; &quot;[&quot; &lt;&lt; n &lt;&lt; &quot;]&quot;;</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">         } else {</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">         ...</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">      */</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="keywordflow">if</span> (!g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03c914d1125eb63dae3e91fb5535d715">codegen_scalars</a> &amp;&amp; n==1) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;w&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        s &lt;&lt; <span class="stringliteral">&quot;*w&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;=w+&quot;</span> &lt;&lt; workloc_[i];</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">if</span> (!first) s &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// Operation number (for printing)</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordtype">int</span> k=0;</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="comment">// Names of operation argument and results</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    vector&lt;int&gt; arg, res;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="comment">// Codegen the algorithm</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::const_iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordtype">int</span> n = <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">nnz_out</a>(it-&gt;res.front());</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="keywordflow">if</span> (n!=0) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;          <span class="keywordtype">int</span> oind = it-&gt;res.front();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;          <span class="keywordflow">if</span> (g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">verbose</a>) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;  /* #&quot;</span> &lt;&lt; k++ &lt;&lt; <span class="stringliteral">&quot;: Output &quot;</span> &lt;&lt; oind;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac48d68b1fa2fe9e34d786957026aad13">oscheme_</a>.at(oind) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot; */&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;          }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;          <span class="keywordtype">string</span> r = <span class="stringliteral">&quot;res[&quot;</span> + g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">to_string</a>(oind) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;          <span class="keywordtype">int</span> i = it-&gt;arg.front();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;          s &lt;&lt; <span class="stringliteral">&quot;  if (&quot;</span> &lt;&lt; r &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;          <span class="keywordflow">if</span> (n==1) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;*&quot;</span> &lt;&lt; r &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ad11ad3b1ff6675a970dfb75c40d6ebce">workel</a>(i) &lt;&lt; <span class="stringliteral">&quot;;&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;            s &lt;&lt; g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2cc7fdf846eb077904785d678528da19">copy</a>(g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2fe095306e1736e30b49040cf8a0a78e">work</a>(i, n), n, r) &lt;&lt; endl;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;          }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;op==<a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>) {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <span class="keywordtype">int</span> n = it-&gt;data.nnz();</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="keywordflow">if</span> (n!=0) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;          <span class="keywordtype">int</span> iind = it-&gt;arg.at(0), ip = it-&gt;arg.at(1), ic = it-&gt;arg.at(2);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;          std::string arg = <span class="stringliteral">&quot;arg[&quot;</span> + g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">to_string</a>(iind) + <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;          std::string arg_nz = arg;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;          <span class="keywordflow">if</span> (ic!=0) arg_nz += <span class="stringliteral">&quot;+&quot;</span> + g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">to_string</a>(ic);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;          <span class="keywordtype">int</span> i = it-&gt;res.front();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;          <span class="keywordflow">if</span> (g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">verbose</a>) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;  /* #&quot;</span> &lt;&lt; k++ &lt;&lt; <span class="stringliteral">&quot;: Input &quot;</span> &lt;&lt; iind;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac032471eb807482fc0f4097914af9a20">ischeme_</a>.at(iind) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;, part &quot;</span> &lt;&lt; ip &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; it-&gt;data.name() &lt;&lt; <span class="stringliteral">&quot;) */&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;          <span class="keywordflow">if</span> (n==1) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ad11ad3b1ff6675a970dfb75c40d6ebce">workel</a>(i) &lt;&lt; <span class="stringliteral">&quot; = &quot;</span> &lt;&lt; arg &lt;&lt; <span class="stringliteral">&quot; ? &quot;</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;              &lt;&lt; arg &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; ic &lt;&lt; <span class="stringliteral">&quot;] : 0;&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            s &lt;&lt; <span class="stringliteral">&quot;  if (&quot;</span> &lt;&lt; arg &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2cc7fdf846eb077904785d678528da19">copy</a>(arg_nz, n, g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2fe095306e1736e30b49040cf8a0a78e">work</a>(i, n)) &lt;&lt; endl</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;  else &quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03efa89573e677e70139a8a5f9af96eb">fill</a>(g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2fe095306e1736e30b49040cf8a0a78e">work</a>(i, n), n, <span class="stringliteral">&quot;0&quot;</span>) &lt;&lt; endl;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;          }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        }</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        <span class="comment">// Generate comment</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">if</span> (g.<a class="code" href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">verbose</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;          s &lt;&lt; <span class="stringliteral">&quot;  /* #&quot;</span> &lt;&lt; k++ &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;          <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">print</a>(s, *it);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;          s &lt;&lt; <span class="stringliteral">&quot; */&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="comment">// Get the names of the operation arguments</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        arg.resize(it-&gt;arg.size());</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;arg.size(); ++i) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;          <span class="keywordtype">int</span> j=it-&gt;arg.at(i);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;          <span class="keywordflow">if</span> (j&gt;=0 &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.at(j)!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.at(j+1)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            arg.at(i) = j;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            arg.at(i) = -1;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;          }</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        <span class="comment">// Get the names of the operation results</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        res.resize(it-&gt;res.size());</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;it-&gt;res.size(); ++i) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;          <span class="keywordtype">int</span> j=it-&gt;res.at(i);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;          <span class="keywordflow">if</span> (j&gt;=0 &amp;&amp; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.at(j)!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.at(j+1)) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            res.at(i) = j;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            res.at(i) = -1;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;          }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="comment">// Generate operation</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        it-&gt;data-&gt;generate(g, <span class="stringliteral">&quot;0&quot;</span>, arg, res);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      }</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    }</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ac8120bdbf24a4066e423f13c10b159a0"> 1197</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ac8120bdbf24a4066e423f13c10b159a0">MXFunction::generate_lifted</a>(<a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>&amp; vdef_fcn, <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>&amp; vinit_fcn) {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    vector&lt;MX&gt; swork(<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">workloc_</a>.size()-1);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    vector&lt;MX&gt; arg1, res1;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <span class="comment">// Definition of intermediate variables</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    vector&lt;MX&gt; y;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    vector&lt;MX&gt; g;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    vector&lt;MX&gt; f_G(<a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">n_out</a>());</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">// Initial guess for intermediate variables</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    vector&lt;MX&gt; x_init;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="comment">// Temporary stringstream</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    stringstream ss;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> algNo=0; algNo&lt;2; ++algNo) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordflow">for</span> (vector&lt;AlgEl&gt;::iterator it=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.begin(); it!=<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">algorithm_</a>.end(); ++it) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">switch</span> (it-&gt;op) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e">OP_LIFT</a>:</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;          {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; arg = swork[it-&gt;arg.at(0)];</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; arg_init = swork[it-&gt;arg.at(1)];</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>&amp; res = swork[it-&gt;res.front()];</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <span class="keywordflow">switch</span> (algNo) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;              ss.str(<span class="keywordtype">string</span>());</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;              ss &lt;&lt; <span class="stringliteral">&quot;y&quot;</span> &lt;&lt; y.<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a6432034ae53a8a3c1876dc271b5d671f">size</a>();</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;              y.push_back(<a class="code" href="../../dc/df3/classcasadi_1_1GenericMatrix.html#aef7e7817a3072ed661a3274e86fac531">MX::sym</a>(ss.str(), arg.<a class="code" href="../../de/d57/classcasadi_1_1MX.html#a66f3337e5bfe40f8e39fe42c7b48b135">sparsity</a>()));</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;              g.push_back(arg);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;              res = y.back();</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;              x_init.push_back(arg_init);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;              res = arg_init;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;          }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">OP_INPUT</a>:</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">OP_PARAMETER</a>:</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;          swork[it-&gt;res.front()] = it-&gt;data;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">OP_OUTPUT</a>:</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;          <span class="keywordflow">if</span> (algNo==0) {</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            f_G[it-&gt;res.front()] = swork[it-&gt;arg.front()];</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;          }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;          {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;            <span class="comment">// Arguments of the operation</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            arg1.resize(it-&gt;arg.size());</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;arg1.size(); ++i) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;              <span class="keywordtype">int</span> el = it-&gt;arg[i]; <span class="comment">// index of the argument</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;              arg1[i] = el&lt;0 ? <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>(it-&gt;data-&gt;dep(i).size()) : swork[el];</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="comment">// Perform the operation</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            res1.resize(it-&gt;res.size());</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            it-&gt;data-&gt;<a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html#a5489e2aa6b9af533bffbdbd29a9b92bd">eval_mx</a>(arg1, res1);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="comment">// Get the result</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;res1.size(); ++i) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;              <span class="keywordtype">int</span> el = it-&gt;res[i]; <span class="comment">// index of the output</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;              <span class="keywordflow">if</span> (el&gt;=0) swork[el] = res1[i];</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;          }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// Definition of intermediate variables</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    vector&lt;MX&gt; f_in = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    f_in.insert(f_in.end(), y.begin(), y.end());</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    vector&lt;MX&gt; f_out = f_G;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    f_out.insert(f_out.end(), g.begin(), g.end());</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    vdef_fcn = <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>(<span class="stringliteral">&quot;lifting_variable_definition&quot;</span>, f_in, f_out);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">// Initial guess of intermediate variables</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    f_in = <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    f_out = x_init;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    vinit_fcn = <a class="code" href="../../da/da4/classcasadi_1_1Function.html">Function</a>(<span class="stringliteral">&quot;lifting_variable_guess&quot;</span>, f_in, f_out);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;</div>
<div class="line"><a name="l01281"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba92de970349f0ab753a5baee2a93d4e"> 1281</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba92de970349f0ab753a5baee2a93d4e">MXFunction::forward_mx</a>(<span class="keyword">const</span> std::vector&lt;MX&gt;&amp; arg, <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; res,</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                                   <span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fseed,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                                   std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; fsens,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                   <span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    casadi_assert_message(!(always_inline &amp;&amp; never_inline), <span class="stringliteral">&quot;Inconsistent options&quot;</span>);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordtype">bool</span> inline_function = always_inline;     <span class="comment">// TODO(@jaeandersson): Add logic for inlining</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">if</span> (inline_function) {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="comment">// Call inlining</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#a090138048afe2f17dd0453250b3613eb">forward_x</a>(arg, res, fseed, fsens);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      <span class="comment">// The non-inlining version is implemented in the base class</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4af90148a508b6fa7df796f579c1a613">FunctionInternal::forward_mx</a>(arg, res, fseed, fsens, always_inline, never_inline);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a15a83c95874b3a164a342363d27d9230"> 1297</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a15a83c95874b3a164a342363d27d9230">MXFunction::reverse_mx</a>(<span class="keyword">const</span> std::vector&lt;MX&gt;&amp; arg, <span class="keyword">const</span> std::vector&lt;MX&gt;&amp; res,</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                 <span class="keyword">const</span> std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; aseed,</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                                 std::vector&lt;std::vector&lt;MX&gt; &gt;&amp; asens,</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                 <span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    casadi_assert_message(!(always_inline &amp;&amp; never_inline), <span class="stringliteral">&quot;Inconsistent options&quot;</span>);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="keywordtype">bool</span> inline_function = always_inline;     <span class="comment">// TODO(@jaeandersson): Add logic for inlining</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (inline_function) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="comment">// Call inlining</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afaad23ce5b7e07a415f132454da851e9">reverse_x</a>(arg, res, aseed, asens);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      <span class="comment">// The non-inlining version is implemented in the base class</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <a class="code" href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a830846844ef36be373c2d344da678f7f">FunctionInternal::reverse_mx</a>(arg, res, aseed, asens, always_inline, never_inline);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c4d26af37b29d8710e101c488d98ed4"> 1313</a></span>&#160;  <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c4d26af37b29d8710e101c488d98ed4">MXFunction::grad_mx</a>(<span class="keywordtype">int</span> iind, <span class="keywordtype">int</span> oind) {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afb176828928480711f1af2d541faa437">grad</a>(iind, oind);</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a25749963f90a1eebb7e4302a22ee42c2"> 1317</a></span>&#160;  <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a25749963f90a1eebb7e4302a22ee42c2">MXFunction::tang_mx</a>(<span class="keywordtype">int</span> iind, <span class="keywordtype">int</span> oind) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#ab566e3ec625228a5bd22a392f8dfa0b4">tang</a>(iind, oind);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div>
<div class="line"><a name="l01321"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adeda0535114c35e09ac4713df04774f4"> 1321</a></span>&#160;  <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#adeda0535114c35e09ac4713df04774f4">MXFunction::jac_mx</a>(<span class="keywordtype">int</span> iind, <span class="keywordtype">int</span> oind, <span class="keywordtype">bool</span> compact, <span class="keywordtype">bool</span> symmetric,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                              <span class="keywordtype">bool</span> always_inline, <span class="keywordtype">bool</span> never_inline) {</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#adb4c2063102f4c513bc780ead253e07a">jac</a>(iind, oind, compact, symmetric, always_inline, never_inline);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#ac160ef520a83d896b03572d1fb4ef7f9"> 1326</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0b23a2001003d9194aa5fae1da378e9b">MXFunction::mx_in</a>(<span class="keywordtype">int</span> ind)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>.at(ind);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div>
<div class="line"><a name="l01330"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0b23a2001003d9194aa5fae1da378e9b"> 1330</a></span>&#160;  <span class="keyword">const</span> std::vector&lt;MX&gt; <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0b23a2001003d9194aa5fae1da378e9b">MXFunction::mx_in</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">inputv_</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba11b499115d5b6ee656a440ca9cf849"> 1334</a></span>&#160;  std::string <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba11b499115d5b6ee656a440ca9cf849">MXFunction::type_name</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;mxfunction&quot;</span>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  }</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00d40b81d990e95afb2a02a789c7b943"> 1338</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00d40b81d990e95afb2a02a789c7b943">MXFunction::is_a</a>(<span class="keyword">const</span> std::string&amp; type, <span class="keywordtype">bool</span> recursive)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">return</span> type==<span class="stringliteral">&quot;mxfunction&quot;</span></div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      || (recursive &amp;&amp; <a class="code" href="../../d7/d72/classcasadi_1_1XFunction.html">XFunction</a>&lt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a34ec6c73bbfd7651d4ca8b34acb16a7a">MXFunction</a>,</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;          <a class="code" href="../../de/d57/classcasadi_1_1MX.html">MX</a>, <a class="code" href="../../d0/d19/classcasadi_1_1MXNode.html">MXNode</a>&gt;<a class="code" href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00d40b81d990e95afb2a02a789c7b943">::is_a</a>(type, recursive));</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;} <span class="comment">// namespace casadi</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div>
<div class="ttc" id="namespacecasadi_html_a746c394d3baa8e4be2ab21cebff17077"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a746c394d3baa8e4be2ab21cebff17077">casadi::MXVector</a></div><div class="ttdeci">std::vector&lt; MX &gt; MXVector</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/mx_8hpp_source.html#l00608">mx.hpp:608</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_a2cc7fdf846eb077904785d678528da19"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2cc7fdf846eb077904785d678528da19">casadi::CodeGenerator::copy</a></div><div class="ttdeci">std::string copy(const std::string &amp;arg, std::size_t n, const std::string &amp;res)</div><div class="ttdoc">Create a copy operation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l00712">code_generator.cpp:712</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_aba11b499115d5b6ee656a440ca9cf849"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba11b499115d5b6ee656a440ca9cf849">casadi::MXFunction::type_name</a></div><div class="ttdeci">virtual std::string type_name() const </div><div class="ttdoc">Get type name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01334">mx_function.cpp:1334</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_afcd74ec12cbd70552e3b5c84fc490a6a"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#afcd74ec12cbd70552e3b5c84fc490a6a">casadi::FunctionInternal::eval_mx</a></div><div class="ttdeci">virtual void eval_mx(const MXVector &amp;arg, MXVector &amp;res, bool always_inline, bool never_inline)</div><div class="ttdoc">Evaluate with symbolic matrices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l01751">function_internal.cpp:1751</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_ad11ad3b1ff6675a970dfb75c40d6ebce"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ad11ad3b1ff6675a970dfb75c40d6ebce">casadi::CodeGenerator::workel</a></div><div class="ttdeci">std::string workel(int n) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l00316">code_generator.cpp:316</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a0e8631d50b18df51bd752e9c986a59a9"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0e8631d50b18df51bd752e9c986a59a9">casadi::MXFunction::default_in_</a></div><div class="ttdeci">std::vector&lt; double &gt; default_in_</div><div class="ttdoc">Default input values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00078">mx_function.hpp:78</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a000e667e298037176efbedd677fdbc12"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a000e667e298037176efbedd677fdbc12">casadi::MXFunction::~MXFunction</a></div><div class="ttdeci">virtual ~MXFunction()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00045">mx_function.cpp:45</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a06082362fcb23031a134b4d4e6471c11"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a06082362fcb23031a134b4d4e6471c11">casadi::FunctionInternal::alloc_iw</a></div><div class="ttdeci">void alloc_iw(size_t sz_iw, bool persistent=false)</div><div class="ttdoc">Ensure required length of iw field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02276">function_internal.cpp:2276</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_afb176828928480711f1af2d541faa437"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#afb176828928480711f1af2d541faa437">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::grad</a></div><div class="ttdeci">MX grad(int iind=0, int oind=0)</div><div class="ttdoc">Gradient via source code transformation. </div></div>
<div class="ttc" id="structcasadi_1_1MXAlgEl_html"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html">casadi::MXAlgEl</a></div><div class="ttdoc">An element of the algorithm, namely an MX node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00043">mx_function.hpp:43</a></div></div>
<div class="ttc" id="namespacecasadi_html_a217d5abb0932b6c65a8f966dbf101cdc"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a217d5abb0932b6c65a8f966dbf101cdc">casadi::project</a></div><div class="ttdeci">void CASADI_PREFIX() project(const real_t *x, const int *sp_x, real_t *y, const int *sp_y, real_t *w)</div><div class="ttdoc">Sparse copy: y <- x, w work vector (length >= number of rows) </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df9/runtime_8hpp_source.html#l00168">runtime.hpp:168</a></div></div>
<div class="ttc" id="namespacecasadi_html_add9e57eb6393010728e86325c95af1e8"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#add9e57eb6393010728e86325c95af1e8">casadi::fill</a></div><div class="ttdeci">void CASADI_PREFIX() fill(real_t *x, int n, real_t alpha)</div><div class="ttdoc">FILL: x <- alpha. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df9/runtime_8hpp_source.html#l00280">runtime.hpp:280</a></div></div>
<div class="ttc" id="classcasadi_1_1Function_html"><div class="ttname"><a href="../../da/da4/classcasadi_1_1Function.html">casadi::Function</a></div><div class="ttdoc">General function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7c/function_8hpp_source.html#l00103">function.hpp:103</a></div></div>
<div class="ttc" id="classcasadi_1_1SXElem_html"><div class="ttname"><a href="../../d0/d06/classcasadi_1_1SXElem.html">casadi::SXElem</a></div><div class="ttdoc">The basic scalar symbolic class of CasADi. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d5b/sx__elem_8hpp_source.html#l00058">sx_elem.hpp:58</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_aba92de970349f0ab753a5baee2a93d4e"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba92de970349f0ab753a5baee2a93d4e">casadi::MXFunction::forward_mx</a></div><div class="ttdeci">virtual void forward_mx(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fsens, bool always_inline, bool never_inline)</div><div class="ttdoc">Create call to (cached) derivative function, forward mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01281">mx_function.cpp:1281</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a772d0d4a7fe8303114d42995378698d1">casadi::OP_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00079">calculus.hpp:79</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a4e50c40106105c8d58aa16f6e9aa564c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4e50c40106105c8d58aa16f6e9aa564c">casadi::FunctionInternal::alloc_arg</a></div><div class="ttdeci">void alloc_arg(size_t sz_arg, bool persistent=false)</div><div class="ttdoc">Ensure required length of arg field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02260">function_internal.cpp:2260</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_acd701154519bf9f8d787a936ef95246c"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#acd701154519bf9f8d787a936ef95246c">casadi::FunctionInternal::alloc_w</a></div><div class="ttdeci">void alloc_w(size_t sz_w, bool persistent=false)</div><div class="ttdoc">Ensure required length of w field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02284">function_internal.cpp:2284</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a00d40b81d990e95afb2a02a789c7b943"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a00d40b81d990e95afb2a02a789c7b943">casadi::MXFunction::is_a</a></div><div class="ttdeci">virtual bool is_a(const std::string &amp;type, bool recursive) const </div><div class="ttdoc">Check if the function is of a particular type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01338">mx_function.cpp:1338</a></div></div>
<div class="ttc" id="namespacecasadi_html_a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ac06f59cf6da05161b5feaf28ae9b78a3">casadi::OT_DOUBLEVECTOR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00048">generic_type.hpp:48</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a57f738c33195d7584f5dc03215625f4a">casadi::OP_SETNONZEROS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00151">calculus.hpp:151</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a3a1e4edbb5b0d906e280b3ffb4d9068e"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a3a1e4edbb5b0d906e280b3ffb4d9068e">casadi::FunctionInternal::sz_w</a></div><div class="ttdeci">size_t sz_w() const </div><div class="ttdoc">Get required length of w field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00667">function_internal.hpp:667</a></div></div>
<div class="ttc" id="classcasadi_1_1InterruptHandler_html_a49091eb550d4bf8da4f31e49835608df"><div class="ttname"><a href="../../d7/d38/classcasadi_1_1InterruptHandler.html#a49091eb550d4bf8da4f31e49835608df">casadi::InterruptHandler::check</a></div><div class="ttdeci">static void check()</div><div class="ttdoc">Raises an error if an interrupt was captured. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/casadi__interrupt_8hpp_source.html#l00062">casadi_interrupt.hpp:62</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_af90d9d333ab1ce25fe5376ab6fea498d"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#af90d9d333ab1ce25fe5376ab6fea498d">casadi::FunctionInternal::size_out</a></div><div class="ttdeci">std::pair&lt; int, int &gt; size_out(int ind) const </div><div class="ttdoc">Input/output dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00547">function_internal.hpp:547</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_a03efa89573e677e70139a8a5f9af96eb"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03efa89573e677e70139a8a5f9af96eb">casadi::CodeGenerator::fill</a></div><div class="ttdeci">std::string fill(const std::string &amp;res, std::size_t n, const std::string &amp;v)</div><div class="ttdoc">Create a fill operation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l00721">code_generator.cpp:721</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a224f6e703688196a7ec7d02373dde89f"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a224f6e703688196a7ec7d02373dde89f">casadi::MXNode::getFunctionOutput</a></div><div class="ttdeci">virtual int getFunctionOutput() const </div><div class="ttdoc">Get function output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00296">mx_node.cpp:296</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a23c36b7cfe7d1cd9ca9d1f681370ff53"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a23c36b7cfe7d1cd9ca9d1f681370ff53">casadi::MXFunction::options_</a></div><div class="ttdeci">static Options options_</div><div class="ttdoc">Options. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00101">mx_function.hpp:101</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_ad059828b805503016d81b97e53336f06"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ad059828b805503016d81b97e53336f06">casadi::CodeGenerator::body</a></div><div class="ttdeci">std::stringstream body</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00225">code_generator.hpp:225</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a855c0cfe59f2f3e42c758d97cf743f2b"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a855c0cfe59f2f3e42c758d97cf743f2b">casadi::MXFunction::generateDeclarations</a></div><div class="ttdeci">virtual void generateDeclarations(CodeGenerator &amp;g) const </div><div class="ttdoc">Generate code for the declarations of the C function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01040">mx_function.cpp:1040</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_adce617d5eb2fd7edc9f82009426a1b2e"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#adce617d5eb2fd7edc9f82009426a1b2e">casadi::MXFunction::expand</a></div><div class="ttdeci">Function expand(const std::vector&lt; SX &gt; &amp;inputv)</div><div class="ttdoc">Expand the matrix valued graph into a scalar valued graph. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00994">mx_function.cpp:994</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a7a2a6a435f28ef089a51b633dc7dc1e9"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7a2a6a435f28ef089a51b633dc7dc1e9">casadi::MXFunction::getNumericJacobian</a></div><div class="ttdeci">virtual Function getNumericJacobian(const std::string &amp;name, int iind, int oind, bool compact, bool symmetric, const Dict &amp;opts)</div><div class="ttdoc">Generate a function that calculates a Jacobian function by operator overloading. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00551">mx_function.cpp:551</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a521a7c58943e1b877b6e73d79948cb68">casadi::OP_OUTPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00079">calculus.hpp:79</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a5b90ae2abe2a6bc01a4dd144c49712e4"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a5b90ae2abe2a6bc01a4dd144c49712e4">casadi::MXFunction::spFwd</a></div><div class="ttdeci">virtual void spFwd(const bvec_t **arg, bvec_t **res, int *iw, bvec_t *w, int mem)</div><div class="ttdoc">Propagate sparsity forward. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00471">mx_function.cpp:471</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_ac8120bdbf24a4066e423f13c10b159a0"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ac8120bdbf24a4066e423f13c10b159a0">casadi::MXFunction::generate_lifted</a></div><div class="ttdeci">void generate_lifted(Function &amp;vdef_fcn, Function &amp;vinit_fcn)</div><div class="ttdoc">Extract the residual function G and the modified function Z out of an expression (see Albersmeyer2010...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01197">mx_function.cpp:1197</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html">casadi::MXNode</a></div><div class="ttdoc">Node class for MX objects. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00078">mx_node.hpp:78</a></div></div>
<div class="ttc" id="classcasadi_1_1GenericMatrix_html_a8474a2a70e32d853e3b7b71f024c3c27"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a8474a2a70e32d853e3b7b71f024c3c27">casadi::GenericMatrix&lt; Matrix&lt; SXElem &gt; &gt;::zeros</a></div><div class="ttdeci">static Matrix&lt; SXElem &gt; zeros(int nrow=1, int ncol=1)</div><div class="ttdoc">Create a dense matrix or a matrix with specified sparsity with all entries zero. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l00651">generic_matrix.hpp:651</a></div></div>
<div class="ttc" id="structcasadi_1_1MXAlgEl_html_a35a55cd8a973b68a7febfd8055db63a9"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a35a55cd8a973b68a7febfd8055db63a9">casadi::MXAlgEl::res</a></div><div class="ttdeci">std::vector&lt; int &gt; res</div><div class="ttdoc">Work vector indices of the results. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00054">mx_function.hpp:54</a></div></div>
<div class="ttc" id="namespacecasadi_html_aa67607f24e1ba643c495940f006cc4ab"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#aa67607f24e1ba643c495940f006cc4ab">casadi::userOut</a></div><div class="ttdeci">std::ostream &amp; userOut()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de4/casadi__logger_8hpp_source.html#l00170">casadi_logger.hpp:170</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ac8ef992a939d171eb3563ece70112909"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac8ef992a939d171eb3563ece70112909">casadi::FunctionInternal::print</a></div><div class="ttdeci">virtual void print(std::ostream &amp;stream) const </div><div class="ttdoc">Print. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00437">function_internal.cpp:437</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ac032471eb807482fc0f4097914af9a20"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac032471eb807482fc0f4097914af9a20">casadi::FunctionInternal::ischeme_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; ischeme_</div><div class="ttdoc">Input and output scheme. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00752">function_internal.hpp:752</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_a2fe095306e1736e30b49040cf8a0a78e"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a2fe095306e1736e30b49040cf8a0a78e">casadi::CodeGenerator::work</a></div><div class="ttdeci">std::string work(int n, int sz) const </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l00306">code_generator.cpp:306</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ac48d68b1fa2fe9e34d786957026aad13"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac48d68b1fa2fe9e34d786957026aad13">casadi::FunctionInternal::oscheme_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; oscheme_</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00752">function_internal.hpp:752</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_adeda0535114c35e09ac4713df04774f4"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#adeda0535114c35e09ac4713df04774f4">casadi::MXFunction::jac_mx</a></div><div class="ttdeci">virtual MX jac_mx(int iind=0, int oind=0, bool compact=false, bool symmetric=false, bool always_inline=true, bool never_inline=false)</div><div class="ttdoc">Jacobian expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01321">mx_function.cpp:1321</a></div></div>
<div class="ttc" id="classcasadi_1_1GenericMatrix_html_a6432034ae53a8a3c1876dc271b5d671f"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a6432034ae53a8a3c1876dc271b5d671f">casadi::GenericMatrix::size</a></div><div class="ttdeci">std::pair&lt; int, int &gt; size() const </div><div class="ttdoc">Get the shape. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l00713">generic_matrix.hpp:713</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a88d0c61dd46279a7179a348f731874e6"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a88d0c61dd46279a7179a348f731874e6">casadi::FunctionInternal::sz_arg</a></div><div class="ttdeci">size_t sz_arg() const </div><div class="ttdoc">Get required length of arg field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00658">function_internal.hpp:658</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">Convenience tools for C++ Standard Library vectors. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d76/casadi__instantiations_8cpp_source.html#l00063">casadi_instantiations.cpp:63</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a9252cd85e4aaad15d021833146b59401"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a9252cd85e4aaad15d021833146b59401">casadi::FunctionInternal::options_</a></div><div class="ttdeci">static Options options_</div><div class="ttdoc">Options. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00088">function_internal.hpp:88</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a061788559004a11536ad2ba2a655d776"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a061788559004a11536ad2ba2a655d776">casadi::MXFunction::create_call</a></div><div class="ttdeci">virtual std::vector&lt; MX &gt; create_call(const std::vector&lt; MX &gt; &amp;arg)</div><div class="ttdoc">Create call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00580">mx_function.cpp:580</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_ab566e3ec625228a5bd22a392f8dfa0b4"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#ab566e3ec625228a5bd22a392f8dfa0b4">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::tang</a></div><div class="ttdeci">MX tang(int iind=0, int oind=0)</div><div class="ttdoc">Tangent via source code transformation. </div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_aaa4c994d59ed8b4903c3cb6eefa83b5e"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaa4c994d59ed8b4903c3cb6eefa83b5e">casadi::FunctionInternal::log</a></div><div class="ttdeci">void log(const std::string &amp;msg) const </div><div class="ttdoc">Log the status of the solver. </div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a00027e6e795b594a411b944299b40581"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a00027e6e795b594a411b944299b40581">casadi::FunctionInternal::has_refcount_</a></div><div class="ttdeci">bool has_refcount_</div><div class="ttdoc">Reference counting in codegen? </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00774">function_internal.hpp:774</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a15a83c95874b3a164a342363d27d9230"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a15a83c95874b3a164a342363d27d9230">casadi::MXFunction::reverse_mx</a></div><div class="ttdeci">virtual void reverse_mx(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;aseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;asens, bool always_inline, bool never_inline)</div><div class="ttdoc">Create call to (cached) derivative function, reverse mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01297">mx_function.cpp:1297</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a112711ca92393bf8cd1136b89de773a8"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a112711ca92393bf8cd1136b89de773a8">casadi::MXFunction::eval_mx</a></div><div class="ttdeci">virtual void eval_mx(const MXVector &amp;arg, MXVector &amp;res, bool always_inline, bool never_inline)</div><div class="ttdoc">Evaluate symbolically, MX type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00588">mx_function.cpp:588</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a90ef144017eb541da92b4d28f73ef912"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a90ef144017eb541da92b4d28f73ef912">casadi::MXNode::temp</a></div><div class="ttdeci">int temp</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00424">mx_node.hpp:424</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a1ed40faab3cda50e22d3c68291e30a38"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1ed40faab3cda50e22d3c68291e30a38">casadi::MXFunction::symbolicOutput</a></div><div class="ttdeci">virtual std::vector&lt; MX &gt; symbolicOutput(const std::vector&lt; MX &gt; &amp;arg)</div><div class="ttdoc">Get a vector of symbolic variables corresponding to the outputs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00562">mx_function.cpp:562</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a3c4d26af37b29d8710e101c488d98ed4"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3c4d26af37b29d8710e101c488d98ed4">casadi::MXFunction::grad_mx</a></div><div class="ttdeci">virtual MX grad_mx(int iind=0, int oind=0)</div><div class="ttdoc">Gradient expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01313">mx_function.cpp:1313</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_abda391e5e8300917c6a2c9a0d3fbca42"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#abda391e5e8300917c6a2c9a0d3fbca42">casadi::FunctionInternal::n_out</a></div><div class="ttdeci">int n_out() const </div><div class="ttdoc">Number of function inputs and outputs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00520">function_internal.hpp:520</a></div></div>
<div class="ttc" id="namespacecasadi_html_aa78122591d27cd623d7665efb7f31a0a"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#aa78122591d27cd623d7665efb7f31a0a">casadi::is_equal</a></div><div class="ttdeci">bool is_equal(double x, double y, int depth=0)</div><div class="ttdoc">CasADi additions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00280">calculus.hpp:280</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a1ccb80e547c773f0b50f5dd238391df8"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a1ccb80e547c773f0b50f5dd238391df8">casadi::FunctionInternal::size_in</a></div><div class="ttdeci">std::pair&lt; int, int &gt; size_in(int ind) const </div><div class="ttdoc">Input/output dimensions. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00546">function_internal.hpp:546</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a85e89a48263b1f8c6902a029f39d5ebe"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a85e89a48263b1f8c6902a029f39d5ebe">casadi::FunctionInternal::n_in</a></div><div class="ttdeci">int n_in() const </div><div class="ttdoc">Number of function inputs and outputs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00518">function_internal.hpp:518</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a2c2f3f5e118cc1283f6f1537c9932bad"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a2c2f3f5e118cc1283f6f1537c9932bad">casadi::FunctionInternal::alloc_res</a></div><div class="ttdeci">void alloc_res(size_t sz_res, bool persistent=false)</div><div class="ttdoc">Ensure required length of res field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02268">function_internal.cpp:2268</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a7eb26a7b2f3703768c078462961b4d84"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a7eb26a7b2f3703768c078462961b4d84">casadi::MXFunction::init</a></div><div class="ttdeci">virtual void init(const Dict &amp;opts)</div><div class="ttdoc">Initialize. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00059">mx_function.cpp:59</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aa9fc3b6305436a56448db554811fdc33">casadi::OP_ADDNONZEROS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00148">calculus.hpp:148</a></div></div>
<div class="ttc" id="classcasadi_1_1MX_html"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html">casadi::MX</a></div><div class="ttdoc">MX - Matrix expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc6/mx_8hpp_source.html#l00058">mx.hpp:58</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a4af90148a508b6fa7df796f579c1a613"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a4af90148a508b6fa7df796f579c1a613">casadi::FunctionInternal::forward_mx</a></div><div class="ttdeci">virtual void forward_mx(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fsens, bool always_inline, bool never_inline)</div><div class="ttdoc">Forward mode AD, virtual functions overloaded in derived classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02341">function_internal.cpp:2341</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a0b23a2001003d9194aa5fae1da378e9b"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a0b23a2001003d9194aa5fae1da378e9b">casadi::MXFunction::mx_in</a></div><div class="ttdeci">virtual const std::vector&lt; MX &gt; mx_in() const </div><div class="ttdoc">Get function input(s) and output(s) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01330">mx_function.cpp:1330</a></div></div>
<div class="ttc" id="namespacecasadi_html_ac0b357d13f0080474277728f87d771c2"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#ac0b357d13f0080474277728f87d771c2">casadi::Dict</a></div><div class="ttdeci">GenericType::Dict Dict</div><div class="ttdoc">C++ equivalent of Python&#39;s dict or MATLAB&#39;s struct. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00177">generic_type.hpp:177</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_adb4c2063102f4c513bc780ead253e07a"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#adb4c2063102f4c513bc780ead253e07a">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::jac</a></div><div class="ttdeci">MX jac(int iind=0, int oind=0, bool compact=false, bool symmetric=false, bool always_inline=true, bool never_inline=false)</div><div class="ttdoc">Construct a complete Jacobian by compression. </div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_a03c914d1125eb63dae3e91fb5535d715"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a03c914d1125eb63dae3e91fb5535d715">casadi::CodeGenerator::codegen_scalars</a></div><div class="ttdeci">bool codegen_scalars</div><div class="ttdoc">Codegen scalar Use the work vector for storing work vector elements of length 1 (typically scalar) in...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00220">code_generator.hpp:220</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618aae6785283527a2b4903fa3aa9f56d3d6">casadi::OP_PARAMETER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00082">calculus.hpp:82</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ad142bb05b9992ca3c7af811702898c19"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ad142bb05b9992ca3c7af811702898c19">casadi::FunctionInternal::create_call</a></div><div class="ttdeci">virtual std::vector&lt; MX &gt; create_call(const std::vector&lt; MX &gt; &amp;arg)</div><div class="ttdoc">Create call. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l01764">function_internal.cpp:1764</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_af1534d0ba72feb537e207c8c330cc2df"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#af1534d0ba72feb537e207c8c330cc2df">casadi::MXFunction::free_vars_</a></div><div class="ttdeci">std::vector&lt; MX &gt; free_vars_</div><div class="ttdoc">Free variables. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00075">mx_function.hpp:75</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_ab88c17946b4e00d02dab5531a2e01b36"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ab88c17946b4e00d02dab5531a2e01b36">casadi::MXFunction::algorithm_</a></div><div class="ttdeci">std::vector&lt; AlgEl &gt; algorithm_</div><div class="ttdoc">All the runtime elements in the order of evaluation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00069">mx_function.hpp:69</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a6c484e193d9a53318507985e5f589f37"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6c484e193d9a53318507985e5f589f37">casadi::MXFunction::codegen_incref</a></div><div class="ttdeci">virtual void codegen_incref(CodeGenerator &amp;g) const </div><div class="ttdoc">Codegen incref for dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01056">mx_function.cpp:1056</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_aba6e09ba0cc87da1f6313dc8bdfad703"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#aba6e09ba0cc87da1f6313dc8bdfad703">casadi::MXFunction::evalAdj</a></div><div class="ttdeci">virtual void evalAdj(const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;adjSeed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;adjSens)</div><div class="ttdoc">Calculate reverse mode directional derivatives. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00781">mx_function.cpp:781</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_aedf834606d6e0f6a0303b5e8724978d1"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedf834606d6e0f6a0303b5e8724978d1">casadi::FunctionInternal::purgable</a></div><div class="ttdeci">static bool purgable(const std::vector&lt; MatType &gt; &amp;seed)</div><div class="ttdoc">Can a derivative direction be skipped. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00874">function_internal.hpp:874</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a828a7c9d7f31f06add14c529301fea84"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a828a7c9d7f31f06add14c529301fea84">casadi::MXNode::print</a></div><div class="ttdeci">virtual void print(std::ostream &amp;stream) const </div><div class="ttdoc">Print a description. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00228">mx_node.cpp:228</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a3ccdbb24fb9ec127421aa0632ccd185f"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a3ccdbb24fb9ec127421aa0632ccd185f">casadi::MXFunction::workloc_</a></div><div class="ttdeci">std::vector&lt; int &gt; workloc_</div><div class="ttdoc">Offsets for elements in the w_ vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00072">mx_function.hpp:72</a></div></div>
<div class="ttc" id="classcasadi_1_1GenericMatrix_html_a2e3665c029a2c0873b82e57a361533e8"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#a2e3665c029a2c0873b82e57a361533e8">casadi::GenericMatrix::nnz</a></div><div class="ttdeci">int nnz() const </div><div class="ttdoc">Get the number of (structural) non-zero elements. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l00678">generic_matrix.hpp:678</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a04aad7008cdea9dfcf9bdf708dae65d5"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a04aad7008cdea9dfcf9bdf708dae65d5">casadi::FunctionInternal::nnz_out</a></div><div class="ttdeci">int nnz_out() const </div><div class="ttdoc">Number of input/output nonzeros. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l01733">function_internal.cpp:1733</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ae2ab333a4f258b34f5047b97bc366adf"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ae2ab333a4f258b34f5047b97bc366adf">casadi::FunctionInternal::repr</a></div><div class="ttdeci">virtual void repr(std::ostream &amp;stream) const </div><div class="ttdoc">Print. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00441">function_internal.cpp:441</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_ab76f83309b714829030415c00c96b72f"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#ab76f83309b714829030415c00c96b72f">casadi::CodeGenerator::to_string</a></div><div class="ttdeci">static std::string to_string(int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d92/code__generator_8cpp_source.html#l00300">code_generator.cpp:300</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html_a0bd4cb2eb56d362e9b5efc4807bcec35"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html#a0bd4cb2eb56d362e9b5efc4807bcec35">casadi::CodeGenerator::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00208">code_generator.hpp:208</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_ae289fa0b010714b78170f1722d29f21a"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#ae289fa0b010714b78170f1722d29f21a">casadi::MXNode::ndep</a></div><div class="ttdeci">int ndep() const </div><div class="ttdoc">Number of dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00173">mx_node.cpp:173</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_ac2bf35f3aaa462c8c3e676d5f325c65c"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#ac2bf35f3aaa462c8c3e676d5f325c65c">casadi::MXNode::dep</a></div><div class="ttdeci">const MX &amp; dep(int ind=0) const </div><div class="ttdoc">dependencies - functions that have to be evaluated before this one </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00165">mx_node.cpp:165</a></div></div>
<div class="ttc" id="structcasadi_1_1MXAlgEl_html_a0b28f7ab10ae3d3187d3888106d9bd03"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a0b28f7ab10ae3d3187d3888106d9bd03">casadi::MXAlgEl::data</a></div><div class="ttdeci">MX data</div><div class="ttdoc">Data associated with the operation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00048">mx_function.hpp:48</a></div></div>
<div class="ttc" id="namespacecasadi_html_a156b344aa0391b9cc989af01c5ab1f96"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a156b344aa0391b9cc989af01c5ab1f96">casadi::copy</a></div><div class="ttdeci">void CASADI_PREFIX() copy(const real_t *x, int n, real_t *y)</div><div class="ttdoc">COPY: y <-x. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df9/runtime_8hpp_source.html#l00143">runtime.hpp:143</a></div></div>
<div class="ttc" id="classcasadi_1_1CodeGenerator_html"><div class="ttname"><a href="../../d1/da2/classcasadi_1_1CodeGenerator.html">casadi::CodeGenerator</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dde/code__generator_8hpp_source.html#l00036">code_generator.hpp:36</a></div></div>
<div class="ttc" id="classcasadi_1_1MX_html_a66f3337e5bfe40f8e39fe42c7b48b135"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#a66f3337e5bfe40f8e39fe42c7b48b135">casadi::MX::sparsity</a></div><div class="ttdeci">const Sparsity &amp; sparsity() const </div><div class="ttdoc">Get the sparsity pattern. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00532">mx.cpp:532</a></div></div>
<div class="ttc" id="namespacecasadi_html_a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a74a07d00866ce86187cc0f081d340015ab443a65f334c43316aa16dea55e65960">casadi::OT_BOOL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/generic__type_8hpp_source.html#l00041">generic_type.hpp:41</a></div></div>
<div class="ttc" id="classcasadi_1_1MX_html_a0ba0ef46e83bedc48101b8010d6cd97a"><div class="ttname"><a href="../../de/d57/classcasadi_1_1MX.html#a0ba0ef46e83bedc48101b8010d6cd97a">casadi::MX::create</a></div><div class="ttdeci">static MX create(MXNode *node)</div><div class="ttdoc">Create from node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/df4/mx_8cpp_source.html#l00052">mx.cpp:52</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_aedc0fec4962cb5518a8bfb60ddb10046"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aedc0fec4962cb5518a8bfb60ddb10046">casadi::FunctionInternal::sz_res</a></div><div class="ttdeci">size_t sz_res() const </div><div class="ttdoc">Get required length of res field. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00661">function_internal.hpp:661</a></div></div>
<div class="ttc" id="namespacecasadi_html_af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#af35251805e44185cb1f079ec41808618a78e204f531e29e46946d6f51bc81ef6e">casadi::OP_LIFT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00173">calculus.hpp:173</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html">casadi::MXFunction</a></div><div class="ttdoc">Internal node class for MXFunction. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00062">mx_function.hpp:62</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_afba7ecdd21e074f07f151ad5a4ed43dc"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#afba7ecdd21e074f07f151ad5a4ed43dc">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::outputv_</a></div><div class="ttdeci">std::vector&lt; MX &gt; outputv_</div><div class="ttdoc">Outputs of the function (needed for symbolic calculations) </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00142">x_function.hpp:142</a></div></div>
<div class="ttc" id="namespacecasadi_html_a28da13ca9291359e511803a448834e2a"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#a28da13ca9291359e511803a448834e2a">casadi::bvec_t</a></div><div class="ttdeci">unsigned long bvec_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d62/casadi__types_8hpp_source.html#l00089">casadi_types.hpp:89</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_afaad23ce5b7e07a415f132454da851e9"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#afaad23ce5b7e07a415f132454da851e9">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::reverse_x</a></div><div class="ttdeci">void reverse_x(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;aseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;asens)</div><div class="ttdoc">Create call to (cached) derivative function, reverse mode. </div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_ad55394e0ab82de77f066964b7e24eca1"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#ad55394e0ab82de77f066964b7e24eca1">casadi::MXFunction::eval_sx</a></div><div class="ttdeci">virtual void eval_sx(const SXElem **arg, SXElem **res, int *iw, SXElem *w, int mem)</div><div class="ttdoc">Evaluate symbolically, SX type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00954">mx_function.cpp:954</a></div></div>
<div class="ttc" id="singletoncasadi_1_1Matrix_html"><div class="ttname"><a href="../../dd/df2/singletoncasadi_1_1Matrix.html">casadi::Matrix&lt; SXElem &gt;</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a6011996b37bd63d0ea1b032d9c1b4cef"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6011996b37bd63d0ea1b032d9c1b4cef">casadi::MXFunction::eval</a></div><div class="ttdeci">virtual void eval(void *mem, const double **arg, double **res, int *iw, double *w) const </div><div class="ttdoc">Evaluate numerically, work vectors given. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00372">mx_function.cpp:372</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a2d0bbcca452bd91a18970776ec083608"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a2d0bbcca452bd91a18970776ec083608">casadi::MXFunction::print</a></div><div class="ttdeci">virtual void print(std::ostream &amp;stream) const </div><div class="ttdoc">Print description. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00462">mx_function.cpp:462</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a830846844ef36be373c2d344da678f7f"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a830846844ef36be373c2d344da678f7f">casadi::FunctionInternal::reverse_mx</a></div><div class="ttdeci">virtual void reverse_mx(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;aseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;asens, bool always_inline, bool never_inline)</div><div class="ttdoc">Reverse mode, virtual functions overloaded in derived classes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l02418">function_internal.cpp:2418</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_a090138048afe2f17dd0453250b3613eb"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#a090138048afe2f17dd0453250b3613eb">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::forward_x</a></div><div class="ttdeci">void forward_x(const std::vector&lt; MX &gt; &amp;arg, const std::vector&lt; MX &gt; &amp;res, const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fsens)</div><div class="ttdoc">Create call to (cached) derivative function, forward mode. </div></div>
<div class="ttc" id="classcasadi_1_1SharedObject_html_aacb572fcc25c8ded67930b5b221fdf30"><div class="ttname"><a href="../../d5/d4a/classcasadi_1_1SharedObject.html#aacb572fcc25c8ded67930b5b221fdf30">casadi::SharedObject::assignNode</a></div><div class="ttdeci">void assignNode(SharedObjectNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d38/shared__object_8cpp_source.html#l00057">shared_object.cpp:57</a></div></div>
<div class="ttc" id="classcasadi_1_1GenericMatrix_html_aef7e7817a3072ed661a3274e86fac531"><div class="ttname"><a href="../../dc/df3/classcasadi_1_1GenericMatrix.html#aef7e7817a3072ed661a3274e86fac531">casadi::GenericMatrix&lt; Matrix&lt; SXElem &gt; &gt;::sym</a></div><div class="ttdeci">static Matrix&lt; SXElem &gt; sym(const std::string &amp;name, int nrow=1, int ncol=1)</div><div class="ttdoc">Create an nrow-by-ncol symbolic primitive. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d90/generic__matrix_8hpp_source.html#l00615">generic_matrix.hpp:615</a></div></div>
<div class="ttc" id="structcasadi_1_1MXAlgEl_html_a5cdd472aab77d382331d909cf925ae8a"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a5cdd472aab77d382331d909cf925ae8a">casadi::MXAlgEl::arg</a></div><div class="ttdeci">std::vector&lt; int &gt; arg</div><div class="ttdoc">Work vector indices of the arguments. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00051">mx_function.hpp:51</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_ac2346d1f289b3bb83ba60520dff963af"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#ac2346d1f289b3bb83ba60520dff963af">casadi::MXNode::op</a></div><div class="ttdeci">virtual int op() const =0</div><div class="ttdoc">Get the operation. </div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_aaf444efb55b09724d7ab70b8a09ec9f2"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aaf444efb55b09724d7ab70b8a09ec9f2">casadi::FunctionInternal::symbolicOutput</a></div><div class="ttdeci">virtual std::vector&lt; MX &gt; symbolicOutput(const std::vector&lt; MX &gt; &amp;arg)</div><div class="ttdoc">Get a vector of symbolic variables corresponding to the outputs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00581">function_internal.cpp:581</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ade4df092def41ffae7020f2427219a4f"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ade4df092def41ffae7020f2427219a4f">casadi::FunctionInternal::call</a></div><div class="ttdeci">void call(const std::vector&lt; M &gt; &amp;arg, std::vector&lt; M &gt; &amp;res, bool always_inline, bool never_inline)</div><div class="ttdoc">Call a function, templated. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00931">function_internal.hpp:931</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html">casadi::XFunction</a></div><div class="ttdoc">Internal node class for the base class of SXFunction and MXFunction (lacks a public counterpart) The ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00047">x_function.hpp:47</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_a2f0167890c74c698ac9dddf653a2dc63"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#a2f0167890c74c698ac9dddf653a2dc63">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::isInput</a></div><div class="ttdeci">virtual bool isInput(const std::vector&lt; MX &gt; &amp;arg) const</div><div class="ttdoc">Helper function: Check if a vector equals inputv. </div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_aff5fde032442f1708b74357109d73287"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#aff5fde032442f1708b74357109d73287">casadi::FunctionInternal::sparsity_out</a></div><div class="ttdeci">const Sparsity &amp; sparsity_out(int ind) const </div><div class="ttdoc">Get sparsity of a given output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00629">function_internal.hpp:629</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_afadcdcae1e6a79c094eaaed70dc86530"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#afadcdcae1e6a79c094eaaed70dc86530">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::inputv_</a></div><div class="ttdeci">std::vector&lt; MX &gt; inputv_</div><div class="ttdoc">Inputs of the function (needed for symbolic calculations) </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/de5/x__function_8hpp_source.html#l00139">x_function.hpp:139</a></div></div>
<div class="ttc" id="classcasadi_1_1XFunction_html_af4e73ad0f163fd02355960bd7ceb19ad"><div class="ttname"><a href="../../d7/d72/classcasadi_1_1XFunction.html#af4e73ad0f163fd02355960bd7ceb19ad">casadi::XFunction&lt; MXFunction, MX, MXNode &gt;::sort_depth_first</a></div><div class="ttdeci">static void sort_depth_first(std::stack&lt; MXNode * &gt; &amp;s, std::vector&lt; MXNode * &gt; &amp;nodes)</div><div class="ttdoc">Topological sorting of the nodes based on Depth-First Search (DFS) </div></div>
<div class="ttc" id="namespacecasadi_html_ac09c0efbef523dbe0a36546b832d32d5"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#ac09c0efbef523dbe0a36546b832d32d5">casadi::get_ptr</a></div><div class="ttdeci">T * get_ptr(std::vector&lt; T &gt; &amp;v)</div><div class="ttdoc">Get a pointer to the data contained in the vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d5f/std__vector__tools_8hpp_source.html#l00573">std_vector_tools.hpp:573</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_afaa0936652ba59d5e0bf0f570ffac9bd"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#afaa0936652ba59d5e0bf0f570ffac9bd">casadi::MXNode::evalAdj</a></div><div class="ttdeci">virtual void evalAdj(const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;aseed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;asens)</div><div class="ttdoc">Calculate reverse mode directional derivatives. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00327">mx_node.cpp:327</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a47fdf0f1c66ad9b45a24347cea290543"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a47fdf0f1c66ad9b45a24347cea290543">casadi::FunctionInternal::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdoc">Name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4f/function__internal_8hpp_source.html#l00795">function_internal.hpp:795</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_ac60489b2183943b68a652f4f524f848a"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#ac60489b2183943b68a652f4f524f848a">casadi::FunctionInternal::init</a></div><div class="ttdeci">virtual void init(const Dict &amp;opts)</div><div class="ttdoc">Initialize Initialize and make the object ready for setting arguments and evaluation. This method is typically called after setting options but before evaluating. If passed to another class (in the constructor), this class should invoke this function when initialized. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00265">function_internal.cpp:265</a></div></div>
<div class="ttc" id="classcasadi_1_1FunctionInternal_html_a36f05161824665768b26bdb18c14c633"><div class="ttname"><a href="../../d2/dab/classcasadi_1_1FunctionInternal.html#a36f05161824665768b26bdb18c14c633">casadi::FunctionInternal::verbose</a></div><div class="ttdeci">bool verbose() const </div><div class="ttdoc">Verbose mode? </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db4/function__internal_8cpp_source.html#l00573">function_internal.cpp:573</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a25749963f90a1eebb7e4302a22ee42c2"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a25749963f90a1eebb7e4302a22ee42c2">casadi::MXFunction::tang_mx</a></div><div class="ttdeci">virtual MX tang_mx(int iind=0, int oind=0)</div><div class="ttdoc">Tangent expression. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01317">mx_function.cpp:1317</a></div></div>
<div class="ttc" id="namespacecasadi_html_ac990d74f5f749e7a2ee6e635d1f6ba8d"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html#ac990d74f5f749e7a2ee6e635d1f6ba8d">casadi::is_zero</a></div><div class="ttdeci">bool is_zero(const T &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d6b/casadi__limits_8hpp_source.html#l00068">casadi_limits.hpp:68</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a8f03134bfe08d31178e20c5255781ece"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a8f03134bfe08d31178e20c5255781ece">casadi::MXNode::nout</a></div><div class="ttdeci">virtual int nout() const </div><div class="ttdoc">Number of outputs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00232">mx_node.hpp:232</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a6ec1a38aee0fde2abc25b3903f2d3d10"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a6ec1a38aee0fde2abc25b3903f2d3d10">casadi::MXFunction::codegen_decref</a></div><div class="ttdeci">virtual void codegen_decref(CodeGenerator &amp;g) const </div><div class="ttdoc">Codegen decref for dependencies. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01065">mx_function.cpp:1065</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a81606be8a2b9a1c3446718fe02932e14"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a81606be8a2b9a1c3446718fe02932e14">casadi::MXFunction::generateBody</a></div><div class="ttdeci">virtual void generateBody(CodeGenerator &amp;g) const </div><div class="ttdoc">Generate code for the body of the C function. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l01074">mx_function.cpp:1074</a></div></div>
<div class="ttc" id="namespacecasadi_html"><div class="ttname"><a href="../../d7/d23/namespacecasadi.html">casadi</a></div><div class="ttdoc">The casadi namespace. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d90/calculus_8hpp_source.html#l00040">calculus.hpp:40</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a793a8735e7c6e7ddc10c785d41736618"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a793a8735e7c6e7ddc10c785d41736618">casadi::MXFunction::spAdj</a></div><div class="ttdeci">virtual void spAdj(bvec_t **arg, bvec_t **res, int *iw, bvec_t *w, int mem)</div><div class="ttdoc">Propagate sparsity backwards. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00510">mx_function.cpp:510</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a34ec6c73bbfd7651d4ca8b34acb16a7a"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a34ec6c73bbfd7651d4ca8b34acb16a7a">casadi::MXFunction::MXFunction</a></div><div class="ttdeci">MXFunction(const std::string &amp;name, const std::vector&lt; MX &gt; &amp;input, const std::vector&lt; MX &gt; &amp;output)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00038">mx_function.cpp:38</a></div></div>
<div class="ttc" id="classcasadi_1_1MXFunction_html_a1fac6a18e8bcd1b84be8122220fc6c89"><div class="ttname"><a href="../../d6/dfe/classcasadi_1_1MXFunction.html#a1fac6a18e8bcd1b84be8122220fc6c89">casadi::MXFunction::evalFwd</a></div><div class="ttdeci">virtual void evalFwd(const std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fwdSeed, std::vector&lt; std::vector&lt; MX &gt; &gt; &amp;fwdSens)</div><div class="ttdoc">Calculate forward mode directional derivatives. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d9b/mx__function_8cpp_source.html#l00652">mx_function.cpp:652</a></div></div>
<div class="ttc" id="structcasadi_1_1Options_html"><div class="ttname"><a href="../../db/d35/structcasadi_1_1Options.html">casadi::Options</a></div><div class="ttdoc">Options metadata for a class. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d95/options_8hpp_source.html#l00039">options.hpp:39</a></div></div>
<div class="ttc" id="structcasadi_1_1MXAlgEl_html_a70425265b1f8d09d7a4241dc9dadfc34"><div class="ttname"><a href="../../d8/dd5/structcasadi_1_1MXAlgEl.html#a70425265b1f8d09d7a4241dc9dadfc34">casadi::MXAlgEl::op</a></div><div class="ttdeci">int op</div><div class="ttdoc">Operator index. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/deb/mx__function_8hpp_source.html#l00045">mx_function.hpp:45</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a5489e2aa6b9af533bffbdbd29a9b92bd"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a5489e2aa6b9af533bffbdbd29a9b92bd">casadi::MXNode::eval_mx</a></div><div class="ttdeci">virtual void eval_mx(const std::vector&lt; MX &gt; &amp;arg, std::vector&lt; MX &gt; &amp;res)</div><div class="ttdoc">Evaluate symbolically (MX) </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dcf/mx__node_8cpp_source.html#l00316">mx_node.cpp:316</a></div></div>
<div class="ttc" id="classcasadi_1_1MXNode_html_a8a2a75080032d3d25f68e5f9f6709065"><div class="ttname"><a href="../../d0/d19/classcasadi_1_1MXNode.html#a8a2a75080032d3d25f68e5f9f6709065">casadi::MXNode::isMultipleOutput</a></div><div class="ttdeci">virtual bool isMultipleOutput() const </div><div class="ttdoc">Check if a multiple output node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d72/mx__node_8hpp_source.html#l00193">mx_node.hpp:193</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<hr class="footer"/>
Release pointers: <a href="https://github.com/casadi/casadi/tree/40d1934d2cb4eb46565debb8477cb04f4a3e2729/docs/examples/python">extensive python examples</a>, <a href="../../../../tutorials">tutorials</a>, Users Guide (<a href="../../../../users_guide/casadi-users_guide.pdf">pdf</a> | <a href="../../../../users_guide/html">html</a> )
<address class="footer"><small>
Generated for CasADi by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.8</small></address>
<br/>
Official releases: <a href="/3.0.0-rc1">3.0.0-rc1</a> <a href="/2.4.2">2.4.2</a> <a href="/2.3.0">2.3.0</a> <a href="/2.2.0">2.2.0</a> <a href="/2.1.1">2.1.1</a> <a href="/2.0.0">2.0.0</a> <a href="/1.9.0">1.9.0</a> <a href="/1.8.0">1.8.0</a> <a href="/1.7.1">1.7.1</a> <a href="/1.7.0">1.7.0</a> <a href="/1.6.1">1.6.1</a> <a href="/1.6.0">1.6.0</a> <a href="/1.5.0">1.5.0</a> <a href="/1.4.0">1.4.0</a> <a href="/1.3.0">1.3.0</a>
<b
<a href="/">bleeding edge</a>
</body>
</html>
